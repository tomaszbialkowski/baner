<!DOCTYPE html>
<html><head>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"><meta http-equiv="Pragma" content="no-cache"><meta http-equiv="Expires" content="0"><meta charset="utf-8">
    <meta name="generator" content="Google Web Designer 16.2.0.0128">
    <meta name="template" content="Banner 3.0.0">
    <meta name="environment" content="gwd-dv360">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="gwdpage_style.css" rel="stylesheet" data-version="13" data-exports-type="gwd-page">
    <link href="gwdpagedeck_style.css" rel="stylesheet" data-version="14" data-exports-type="gwd-pagedeck">
    <link href="gwdgooglead_style.css" rel="stylesheet" data-version="9" data-exports-type="gwd-google-ad">
    <link href="gwdimage_style.css" rel="stylesheet" data-version="17" data-exports-type="gwd-image">
    <style id="gwd-lightbox-style">.gwd-lightbox {
    overflow: hidden;
}</style>
    <style id="gwd-text-style">p {
    margin: 0px;
}
h1 {
    margin: 0px;
}
h2 {
    margin: 0px;
}
h3 {
    margin: 0px;
}</style>
    <style>html,
body {
    width: 100%;
    height: 100%;
    margin: 0px;
}
.gwd-page-container {
    position: relative;
    width: 100%;
    height: 100%;
}
.gwd-page-content {
    background-color: transparent;
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    -moz-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    perspective: 1400px;
    -webkit-perspective: 1400px;
    -moz-perspective: 1400px;
    position: absolute;
    transform-style: preserve-3d;
    -webkit-transform-style: preserve-3d;
    -moz-transform-style: preserve-3d;
}
.gwd-page-content * {
    transform-style: preserve-3d;
    -webkit-transform-style: preserve-3d;
    -moz-transform-style: preserve-3d;
}
.gwd-page-wrapper {
    background-color: rgb(255, 255, 255);
    position: absolute;
    transform: translateZ(0px);
    -webkit-transform: translateZ(0px);
    -moz-transform: translateZ(0px);
}
.gwd-page-size {
    width: 300px;
    height: 250px;
}
.gwd-image-y815 {
    position: absolute;
    width: 300px;
    height: 250px;
    left: 0px;
    top: 0px;
}
.gwd-canvas-14y0 {
    left: 0px;
    top: 0px;
}</style>
    <script data-source="gwd_webcomponents_v1_min.js" data-version="2" data-exports-type="gwd_webcomponents_v1" src="gwd_webcomponents_v1_min.js"></script>
    <script data-source="gwdpage_min.js" data-version="13" data-exports-type="gwd-page" src="gwdpage_min.js"></script>
    <script data-source="gwdpagedeck_min.js" data-version="14" data-exports-type="gwd-pagedeck" src="gwdpagedeck_min.js"></script>
    <script data-source="https://s0.2mdn.net/ads/studio/Enabler.js" data-exports-type="gwd-google-ad" src="https://s0.2mdn.net/ads/studio/Enabler.js"></script>
    <script data-source="gwdgooglead_min.js" data-version="9" data-exports-type="gwd-google-ad" src="gwdgooglead_min.js"></script>
    <script data-source="gwdimage_min.js" data-version="17" data-exports-type="gwd-image" src="gwdimage_min.js"></script>
  </head>

  <body>
    <gwd-google-ad id="gwd-ad">
      <gwd-pagedeck class="gwd-page-container" id="pagedeck">
        <gwd-page id="page1" class="gwd-page-wrapper gwd-page-size gwd-lightbox" data-gwd-width="300px" data-gwd-height="250px">
          <div class="gwd-page-content gwd-page-size">
            <gwd-image id="mutti_back" source="mutti_back.png?1743590034172" scaling="stretch" class="gwd-image-y815"></gwd-image>
            <canvas id="scratchCanvas" width="300" height="250" class="gwd-canvas-14y0"></canvas>
            <img src="mutti_front.png" width="300">
          </div>
        </gwd-page>
      </gwd-pagedeck>
    </gwd-google-ad>
    <script type="text/javascript" id="gwd-init-code">
      (function () {
        var gwdAd = document.getElementById("gwd-ad");

        /**
         * Handles the DOMContentLoaded event. The DOMContentLoaded event is
         * fired when the document has been completely loaded and parsed.
         */
        function handleDomContentLoaded(event) {}

        /**
         * Handles the WebComponentsReady event. This event is fired when all
         * custom elements have been registered and upgraded.
         */
        function handleWebComponentsReady(event) {
          // Start the Ad lifecycle.
          requestAnimationFrame(function () {
            setTimeout(function () {
              gwdAd.initAd();
            }, 1);
          });
        }

        /**
         * Handles the event that is dispatched after the Ad has been
         * initialized and before the default page of the Ad is shown.
         */
        function handleAdInitialized(event) {}

        window.addEventListener(
          "DOMContentLoaded",
          handleDomContentLoaded,
          false
        );
        window.addEventListener(
          "WebComponentsReady",
          handleWebComponentsReady,
          false
        );
        window.addEventListener("adinitialized", handleAdInitialized, false);
      })();
    </script>
    <script>
      console.log("script ruszyl");
      // Pobierz referencję do elementu canvas
      const canvas = document.getElementById("scratchCanvas");
      const ctx = canvas.getContext("2d");

      // Załaduj obraz, który będzie warstwą zakrywającą (np. tekstura zdrapki)
      const coverImg = new Image();
      coverImg.src = "assets/mutti_front"; // Zmień na ścieżkę do Twojego obrazu
      coverImg.onload = () => {
        // Rysujemy obraz na canvasie na cały obszar
        ctx.drawImage(coverImg, 0, 0, canvas.width, canvas.height);
        console.log("obrazek zaladowany");
      };
      coverImg.onerror = function () {
        console.error("Błąd podczas ładowania obrazu!");
      };

      let isDrawing = false;

      // Funkcja pobierająca pozycję kursora lub dotyku
      function getPos(evt) {
        const rect = canvas.getBoundingClientRect();
        if (evt.touches) {
          return {
            x: evt.touches[0].clientX - rect.left,
            y: evt.touches[0].clientY - rect.top,
          };
        } else {
          return {
            x: evt.clientX - rect.left,
            y: evt.clientY - rect.top,
          };
        }
      }

      // Funkcja "zdrapująca" fragment obrazu
      function scratch(evt) {
        evt.preventDefault();
        const pos = getPos(evt);
        ctx.globalCompositeOperation = "destination-out";
        ctx.beginPath();
        // Możesz dostosować rozmiar „pędzla” (tutaj 20)
        ctx.arc(pos.x, pos.y, 40, 0, Math.PI * 2, false);
        ctx.fill();
        ctx.closePath();
      }

      // Obsługa zdarzeń dla myszy
      canvas.addEventListener("mousedown", (evt) => {
        isDrawing = true;
        scratch(evt);
      });
      canvas.addEventListener("mousemove", (evt) => {
        if (isDrawing) scratch(evt);
      });
      canvas.addEventListener("mouseup", () => (isDrawing = false));
      canvas.addEventListener("mouseleave", () => (isDrawing = false));

      // Obsługa zdarzeń dla dotyku
      canvas.addEventListener("touchstart", (evt) => {
        isDrawing = true;
        scratch(evt);
      });
      canvas.addEventListener("touchmove", (evt) => {
        if (isDrawing) scratch(evt);
      });
      canvas.addEventListener("touchend", () => (isDrawing = false));
    </script>
  

<script data-exports-type="gwd-studio-registration">function StudioExports() {
}</script><script type="text/gwd-admetadata">{"version":1,"type":"GoogleAd","format":"","template":"Banner 3.0.0","politeload":false,"fullscreen":false,"counters":[],"timers":[],"exits":[],"creativeProperties":{"minWidth":300,"minHeight":250,"maxWidth":300,"maxHeight":250},"components":["gwd-google-ad","gwd-image","gwd-page","gwd-pagedeck"],"responsive":false}</script><script data-exports-type="dclk-quick-preview">studio.Enabler.setRushSimulatedLocalEvents(true);</script></body></html>
